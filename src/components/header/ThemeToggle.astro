---

---

<div
    data-theme-toggles
    class="flex w-fit gap-0.5 rounded-full bg-neutral-200 p-1 text-neutral-800 [&>*]:rounded-full [&>*]:p-2 [&>*]:hover:bg-neutral-300 [&>*]:data-active:bg-neutral-300"
>
    <!-- Device -->
    <button data-theme="device">
        <svg
            class="h-4"
            stroke-width="1.5"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            color="currentColor"
        >
            <path d="M7 21L17 21" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            <path
                d="M2 16.4V3.6C2 3.26863 2.26863 3 2.6 3H21.4C21.7314 3 22 3.26863 22 3.6V16.4C22 16.7314 21.7314 17 21.4 17H2.6C2.26863 17 2 16.7314 2 16.4Z"
                stroke="currentColor"></path>
        </svg>
    </button>

    <!-- Light -->
    <button data-theme="light">
        <svg
            class="h-4"
            stroke-width="1.5"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            color="currentColor"
        >
            <path
                d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
            >
            </path>
            <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
    </button>

    <!-- Dark -->
    <button data-theme="dark">
        <svg
            class="h-4"
            stroke-width="1.5"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            color="currentColor"
        >
            <path
                d="M3 11.5066C3 16.7497 7.25034 21 12.4934 21C16.2209 21 19.4466 18.8518 21 15.7259C12.4934 15.7259 8.27411 11.5066 8.27411 3C5.14821 4.55344 3 7.77915 3 11.5066Z"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
            >
            </path>
        </svg>
    </button>
</div>

<script>
    const theme = localStorage.getItem("theme") ?? "device";
    const toggles = document.querySelectorAll<HTMLButtonElement>("[data-theme-toggles] > button");
    for (const el of toggles) {
        // On load, make sure the correct theme toggle is being highlighted
        if (el.getAttribute("data-theme") === theme) {
            toggleTheme(el);
        }

        el.addEventListener("click", () => {
            toggles.forEach((t) => t.removeAttribute("data-active"));
            toggleTheme(el);
        });
    }

    function toggleTheme(el: HTMLButtonElement) {
        el.setAttribute("data-active", "");
        let themeToUse = el.getAttribute("data-theme");
        if (!themeToUse) {
            themeToUse = "device";
        }

        document.documentElement.setAttribute("data-theme", themeToUse === "device" ? inferTheme() : themeToUse);
        localStorage.setItem("theme", themeToUse);
    }

    function inferTheme() {
        return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
    }
</script>
